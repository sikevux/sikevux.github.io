---
layout: post
title: "Läcka"
description: ""
category: Security
---
{% include JB/setup %}

Nu har det gått mer än två månader sedan jag påpekade en "liten" läcka hos en sektion vid TLTH, och därför tänker jag skriva om det, så att folk inte gör samma misstag igen.

Allt började med att jag i robots.txt filen för hemsidan hittade att den inte ville att Google skulle indexera `/gamla_iseksidan/`, det är alltid lockande att kolla i mappar som crawlers inte får kolla i. Petade runt lite och hittade `arkiv.zip`, vilket innehöll allt annat som fanns i mappen, plus lite filer som tidigare saknats.

Ett exempel på en fil man kunde hitta var `home/isek/www.isek.tlth.se/gamla_iseksidan/arkiv/facebook/login_facebook.php` som innehöll raderna:

> mysql_connect('localhost', 'i', 'ett långt svenskt ord, som finns i en ordlista nära dig');

samt

> $facebook = new Facebook(array(
>	'appId'  =\> 'ett appID',
>	'secret' =\> 'en secret',
>	'cookie' =\> true
>));

Två fina utdrag som gav en tillgång till både en Facebook app och databasen. Databasen kunde man dock inte komma åt uteifrån via t.ex mysql cli gränssnittet, så tur att det fanns (finns) phpmyadmin på ett bra och säkert ställe på deras hemsida. Inte hela världen, om det inte skulle vara så att den Wordpress installation som kördes med databasen vi nyss fick tillgångtill gjorde att administratörer i Wordpress kunde köra egen kod på servern.

